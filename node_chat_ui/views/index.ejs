<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home page</title>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        .wrapper{
            width: 800px;
            margin: 0 auto;
            padding-top: 30px;
        }
        /* form i {
            margin-left: -30px;
            cursor: pointer;
        } */
        .form-passwod-group{
            position: relative;
        }
        i#togglePassword{
            position: absolute;
            bottom: 10px;
            right: 12px;
            font-size: 19px;
            cursor: pointer;
        }
        label.form-group{
            padding: 3px 0px!important;
        }
        .form-group{
            margin-bottom: 8px!important;
        }
        .modal-body{
            padding: 8px 16px!important;
        }
        .modal-content{
            margin-top: 50px;
            height: 410px!important;
        }
        .hide-modal{
            animation: Slideout 500ms ease-in forwards;
        }
        .show-modal{
            animation: Slidein 500ms ease-in forwards;
        }
        @keyframes Slideout{
            from {
                transform: translateX(0px);
            }
            to{
                transform: translateX(-10%);
                display: none;
            }
        }
        @keyframes Slidein{
            from {
                transform: translateX(10%);
            }
            to{
                transform: translateX(0px);
            }
        }
    </style>
</head>
<body style="background-color: beige;height: 100vh;width: 100%;">
    <div class="wrapper">
        <div class="jumbotron" style="padding-bottom: 30px;">
            <h1 class="display-4">Weclome to <strong>Chat Monitor</strong></h1>
            <hr class="my-4">
            <p>Utilize the navigation bar below to go through our site and of course <em>have fun !</em></p>
            <button class="btn btn-info" data-toggle="modal" data-target="#loginModal">Login</button>
        </div>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item active" aria-current="page"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="/rooms">Chat rooms</a></li>
            </ol>
        </nav>
        <p class="leading">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur animi repellat,
            nihil obcaecati laboriosam repellendus! Magni a dolores ratione aliquid corporis rem placeat 
            maxime similique delectus. Ipsum rem qui temporibus nesciunt atque similique nemo doloribus, 
            labore fugiat voluptate cupiditate minima sunt eum hic magnam nobis omnis quaerat distinctio 
            impedit totam?
        </p>
    </div>

    <!-- Modal sections -->
    <!-- 1- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="loginModalLabel">Login Form</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form action="/login" method="post">
                <div class="modal-body">
                    <div class="form-group">
                      <label for="login-user-name" class="col-form-label">username</label>
                      <input name="username" type="text" class="form-control" id="login-user-name" value="Milo">
                    </div>
                    <div class="form-group form-passwod-group">
                        <label for="login-user-pass" class="col-form-label">Password: </label>
                        <input name="password" type="password" class="form-control input-password" id="login-user-pass" value="Milo1234">
                        <i class="ph ph-eye" id="togglePassword"></i>
                    </div>
                    <div class="form-group">
                        <small class="d-inline-block" style="width: 100%;">
                            <span style="float: left;">Don't have an account ?</span>
                            <span style="float: right;">
                                <a id="newAccount" href="#createaccount">Create account</a>
                            </span>
                        </small>
                    </div>
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-block btn-primary">Login</button>
                </div>
            </form>
          </div>
        </div>
    </div>

    <!-- 2- Signup Modal -->
    <div class="modal fade d-none" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="signupModal">Signup Form</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form action="/signup" method="post">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="user-name" class="col-form-label">Username: </label>
                        <input name="username" type="text" class="form-control" id="user-name">
                    </div>
                    <div class="form-group">
                        <label for="user-email" class="col-form-label">Email: </label>
                        <input name="email" type="email" class="form-control" id="user-email">
                    </div>
                    <div class="form-group form-passwod-group">
                        <label for="user-pass" class="col-form-label">Password: </label>
                        <input name="password" type="password" class="form-control input-password" id="user-pass">
                        <i class="ph ph-eye" id="togglePassword"></i>
                    </div>
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-block btn-primary">Create my account</button>
                </div>
            </form>
          </div>
        </div>
    </div>

    <script src="/assets/js/users-checking.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded",function(){
            const togglePassword = document.querySelector('#togglePassword');
            const password = document.querySelector('.input-password');
            togglePassword.addEventListener('click', (event) => {
                const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
                password.setAttribute('type', type);
                event.target.classList.toggle('ph-eye-slash');
            });
        });       
    </script>
</body>
</html>